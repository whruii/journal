–°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤


```go
package main
```

- –û–±—ä—è–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç –∫–∞–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É (`main`). –¢–æ–ª—å–∫–æ `main` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `main()` –∏ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –≤ –±–∏–Ω–∞—Ä–Ω–∏–∫.

```go
import (
	"bufio"
	"fmt"
	"os"
	"strconv"
	"strings"
)
```
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
- `bufio` ‚Äî –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∏–∑ `os.Stdin`;
- `fmt` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥;
- `os` ‚Äî –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø–æ—Ç–æ–∫–∞–º (`Stdin`) –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º (`Exit`);
- `strconv` ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —á–∏—Å–ª–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ;
- `strings` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏: –æ–±—Ä–µ–∑–∫–∞, —Ä–∞–∑–±–∏–µ–Ω–∏–µ, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

```go
type Student struct {
	Name   string
	Grades []float64
}
```
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–ø `Student` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏:
- `Name`: —Å—Ç—Ä–æ–∫–∞, –§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞ (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á);
- `Grades`: —Å—Ä–µ–∑ —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π ‚Äî —Å–ø–∏—Å–æ–∫ –æ—Ü–µ–Ω–æ–∫.

```go
type Students map[string]Student
```
- –°–æ–∑–¥–∞—ë—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ `Students` –¥–ª—è `map[string]Student`:
- –ö–ª—é—á ‚Äî `string` (–§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π);
- –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `Student`;
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å `students := make(Students)` –≤–º–µ—Å—Ç–æ `make(map[string]Student)` ‚Äî —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

```go
func (s Student) average() float64 {
```
- –û–±—ä—è–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥ `average()` –¥–ª—è —Ç–∏–ø–∞ `Student`. –ü—Ä–∏—ë–º–Ω–∏–∫ `(s Student)` ‚Äî –∫–æ–ø–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–µ —É–∫–∞–∑–∞—Ç–µ–ª—å, —Ç.–∫. –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ).

```go
	if len(s.Grades) == 0 {
		return 0.0
	}
```
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å: –µ—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–µ—Ç –æ—Ü–µ–Ω–æ–∫ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `0.0`.

```go
	var sum float64
```
- –û–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `sum` —Ç–∏–ø–∞ `float64`, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω—É–ª—ë–º ‚Äî –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —Å—É–º–º—ã –æ—Ü–µ–Ω–æ–∫.

```go
	for _, grade := range s.Grades {
		sum += grade
	}
```
- –¶–∏–∫–ª `for-range` –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –æ—Ü–µ–Ω–∫–∞–º –≤ —Å—Ä–µ–∑–µ `s.Grades`; `_` (–ø—É—Å—Ç–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä) –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏–Ω–¥–µ–∫—Å –Ω–µ –Ω—É–∂–µ–Ω.

```go
	return sum / float64(len(s.Grades))
```
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ: —Å—É–º–º–∞ √∑ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–æ–∫. `float64(...)` ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ `int` –∫ `float64`.

```go
func (ss *Students) addStudent(name string, grades []float64) {
```
- –û–±—ä—è–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥ —É–∫–∞–∑–∞—Ç–µ–ª—è `addStudent()` –¥–ª—è —Ç–∏–ø–∞ `Students`. –ü—Ä–∏—ë–º–Ω–∏–∫ `(ss *Students)` ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω—è—Ç—å –∏—Å—Ö–æ–¥–Ω—É—é –∫–∞—Ä—Ç—É (–∏–Ω–∞—á–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –±—ã —Å –∫–æ–ø–∏–µ–π).

```go
	(*ss)[name] = Student{Name: name, Grades: grades}
```
- –†–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å `ss`, –∑–∞—Ç–µ–º:
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –∫–∞—Ä—Ç—É –ø–æ –∫–ª—é—á—É `name` –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Student`;
- –ï—Å–ª–∏ –∫–ª—é—á —É–∂–µ –µ—Å—Ç—å ‚Äî –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ `map`).

```go
func (ss Students) printAll() {
```
- –ú–µ—Ç–æ–¥ `printAll()` –¥–ª—è `Students` (–±–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—è ‚Äî –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç).

```go
	if len(ss) == 0 {
		fmt.Println("–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø—É—Å—Ç.")
		return
	}
```
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ –∫–∞—Ä—Ç–∞ –ø—É—Å—Ç–∞ ‚Äî –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏.

```go
	fmt.Println("\n--- –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ ---")
```
- –í—ã–≤–æ–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞.

```go
	for _, student := range ss {
```
- –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º `map`: `_` ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∫–ª—é—á (–§–ò–û), `student` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ (`Student`).  

```go
		fmt.Printf("–§–ò–û: %s | –û—Ü–µ–Ω–∫–∏: %v | –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: %.2f\n",
			student.Name, student.Grades, student.average())
```
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥:
- `%s` ‚Äî —Å—Ç—Ä–æ–∫–∞ (–§–ò–û);
- `%v` ‚Äî ¬´–∞–≤—Ç–æ–≤—ã–≤–æ–¥¬ª —Å—Ä–µ–∑–∞ –æ—Ü–µ–Ω–æ–∫: `[5 4 3]`;
- `%.2f` ‚Äî —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π (—Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª);
- `\n` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏.

```go
func (ss Students) filterByAverage(threshold float64) []Student {
```
- –ú–µ—Ç–æ–¥ `filterByAverage()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ—Ä–æ–≥ (`threshold`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ä–µ–∑ `[]Student` ‚Äî —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª —Å—Ç—Ä–æ–≥–æ –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞.

```go
	var result []Student
```
- –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Å—Ä–µ–∑ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

```go
	for _, student := range ss {
```
- –û–±—Ö–æ–¥–∏–º –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –∫–∞—Ä—Ç–µ.

```go
		if student.average() < threshold {
			result = append(result, student)
		}
```
- –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –∫–æ–ø–∏—é –≤ —Å—Ä–µ–∑ `result` —Å –ø–æ–º–æ—â—å—é `append`.

```go
	return result
```
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ä–µ–∑.

```go
func readGrades(input string) ([]float64, error) {
```
- –§—É–Ω–∫—Ü–∏—è `readGrades` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"5 4 3 5"`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
- `[]float64` ‚Äî —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏,
- `error` ‚Äî –ø—Ä–∏ –æ—à–∏–±–∫–µ (–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π Go-–ø–æ–¥—Ö–æ–¥).

```go
	parts := strings.Fields(input)
```
- `strings.Fields` —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ ¬´–ø–æ–ª—è¬ª, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –æ–¥–Ω–∏–º –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏ (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ª–∏–¥–∏—Ä—É—é—â–∏–µ/–∑–∞–º—ã–∫–∞—é—â–∏–µ –ø—Ä–æ–±–µ–ª—ã).  
–ü—Ä–∏–º–µ—Ä: `"  5   4 3 "` ‚Üí `["5", "4", "3"]`.

```go
	if len(parts) == 0 {
		return nil, fmt.Errorf("–æ—Ü–µ–Ω–∫–∏ –Ω–µ –≤–≤–µ–¥–µ–Ω—ã")
	}
```
- –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è –∏–ª–∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø—Ä–æ–±–µ–ª–æ–≤ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É.

```go
	var grades []float64
```
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—É—Å—Ç–æ–π —Å—Ä–µ–∑ –ø–æ–¥ –æ—Ü–µ–Ω–∫–∏.

```go
	for _, part := range parts {
```
- –¶–∏–∫–ª –ø–æ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏ (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–π –æ—Ü–µ–Ω–∫–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏).

```go
		grade, err := strconv.ParseFloat(part, 64)
```
- –ü—Ä–æ–±—É–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É `part` –≤ `float64` (64-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π).

```go
		if err != nil {
			return nil, fmt.Errorf("–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: '%s'", part)
		}
```
- –ï—Å–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—É–∫–≤–∞ `"a"`), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.

```go
		if grade < 2 || grade > 5 {
			return nil, fmt.Errorf("–æ—Ü–µ–Ω–∫–∞ '%.1f' –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 2 –¥–æ 5", grade)
		}
```
- –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω: –≤ –†–§ –æ—Ü–µ–Ω–∫–∏ –æ—Ç 2 (–Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ) –¥–æ 5 (–æ—Ç–ª–∏—á–Ω–æ).  
`%.1f` ‚Äî –≤—ã–≤–æ–¥ —á–∏—Å–ª–∞ —Å 1 –∑–Ω–∞–∫–æ–º –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ–± –æ—à–∏–±–∫–µ.

```go
		grades = append(grades, grade)
```
- –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ—Ü–µ–Ω–∫—É –≤ —Å—Ä–µ–∑ `grades`.

```go
	return grades, nil
```
- –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ä–µ–∑ –æ—Ü–µ–Ω–æ–∫ –∏ `nil`-–æ—à–∏–±–∫—É.

```go
func main() {
```
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É.

```go
	scanner := bufio.NewScanner(os.Stdin)
```
- –°–æ–∑–¥–∞—ë–º –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `*bufio.Scanner`, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–≤–æ–¥—É (`os.Stdin`). –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

```go
	students := make(Students)
```
- –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç—É—é –∫–∞—Ä—Ç—É —Ç–∏–ø–∞ `Students` (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `make(map[string]Student)`).

```go
	fmt.Println("üéì –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤")
	fmt.Println("–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã:")
	fmt.Println("  add      ‚Äî –¥–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞")
	fmt.Println("  list     ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤")
	fmt.Println("  filter   ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ä–µ–¥–Ω–∏–º –±–∞–ª–ª–æ–º –Ω–∏–∂–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ")
	fmt.Println("  exit     ‚Äî –≤—ã–π—Ç–∏")
```
- –í—ã–≤–æ–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π.

```go
	for {
```
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—ã.

```go
		fmt.Print("\n–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (add/list/filter/exit): ")
```
- –í—ã–≤–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏.

```go
		if !scanner.Scan() {
			break
		}
```
- `scanner.Scan()` —á–∏—Ç–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∏–∑ `stdin`.  
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false` –ø—Ä–∏:  
- EOF (Ctrl+D –≤ Linux/macOS, Ctrl+Z+Enter –≤ Windows),  
- –æ—à–∏–±–∫–∞ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞.  
–¢–æ–≥–¥–∞ ‚Äî –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞ (`break`).

```go
		cmd := strings.TrimSpace(strings.ToLower(scanner.Text()))
```
- –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç (`scanner.Text()`),  
- –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (`ToLower`) ‚Äî `ADD` ‚Üí `add`,  
- –£–±–∏—Ä–∞–µ–º –∫—Ä–∞–π–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã (`TrimSpace`) ‚Äî `" add "` ‚Üí `"add"`.

```go
		switch cmd {
```
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `switch` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥.

```go
		case "add":
```
- –í–µ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞.

```go
			fmt.Print("–í–≤–µ–¥–∏—Ç–µ –§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞: ")
			if !scanner.Scan() {
				break
			}
			name := strings.TrimSpace(scanner.Text())
```
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏ —á–∏—Ç–∞–µ–º –§–ò–û, —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –ø–æ –∫—Ä–∞—è–º.

```go
			if name == "" {
				fmt.Println("–§–ò–û –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.")
				continue
			}
```
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ –§–ò–û –ø—É—Å—Ç–æ–µ ‚Äî —Å–æ–æ–±—â–∞–µ–º –æ–± –æ—à–∏–±–∫–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (`continue`).

```go
			fmt.Print("–í–≤–µ–¥–∏—Ç–µ –æ—Ü–µ–Ω–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä: 5 4 5 3): ")
			if !scanner.Scan() {
				break
			}
			gradesInput := scanner.Text()
```
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å –æ—Ü–µ–Ω–∫–∞–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏ (–ø—Ä–æ–±–µ–ª—ã –≤–Ω—É—Ç—Ä–∏ –≤–∞–∂–Ω—ã –¥–ª—è `strings.Fields`).

```go
			grades, err := readGrades(gradesInput)
			if err != nil {
				fmt.Printf("–û—à–∏–±–∫–∞: %v\n", err)
				continue
			}
```
- –ü—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –æ—Ü–µ–Ω–∫–∏. –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –≤—ã–≤–æ–¥–∏–º –µ—ë –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º –≤–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã.

```go
			students.addStudent(name, grades)
```
- –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `addStudent` (—á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `students`).

```go
			avg := Student{Name: name, Grades: grades}.average()
			fmt.Printf("–°—Ç—É–¥–µ–Ω—Ç '%s' –¥–æ–±–∞–≤–ª–µ–Ω. –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: %.2f\n", name, avg)
```
- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –¥–ª—è –≤—ã–≤–æ–¥–∞ (–º–æ–∂–Ω–æ –±—ã–ª–æ –≤–∑—è—Ç—å `students[name].average()`, –Ω–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–∏—Å–∫–∞ –≤ –∫–∞—Ä—Ç–µ ‚Äî –ø—Ä–æ—â–µ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å).

```go
		case "list":
			students.printAll()
```
- –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –≤—ã–≤–æ–¥–∞ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.

```go
		case "filter":
```
- –í–µ—Ç–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

```go
			fmt.Print("–í–≤–µ–¥–∏—Ç–µ –ø–æ—Ä–æ–≥ —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∞–ª–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 4): ")
			if !scanner.Scan() {
				break
			}
			thresholdStr := strings.TrimSpace(scanner.Text())
			threshold, err := strconv.ParseFloat(thresholdStr, 64)
			if err != nil {
				fmt.Println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ.")
				continue
			}
```
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ—Ä–æ–≥, –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ. –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –ø–æ–≤—Ç–æ—Ä.

```go
			filtered := students.filterByAverage(threshold)
```
- –ü–æ–ª—É—á–∞–µ–º —Å—Ä–µ–∑ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ä–µ–¥–Ω–∏–º –±–∞–ª–ª–æ–º –Ω–∏–∂–µ `threshold`.

```go
			if len(filtered) == 0 {
				fmt.Printf("–ù–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ä–µ–¥–Ω–∏–º –±–∞–ª–ª–æ–º –Ω–∏–∂–µ %.2f\n", threshold)
			} else {
				fmt.Printf("\n--- –°—Ç—É–¥–µ–Ω—Ç—ã —Å–æ —Å—Ä–µ–¥–Ω–∏–º –±–∞–ª–ª–æ–º –Ω–∏–∂–µ %.2f ---\n", threshold)
				for _, s := range filtered {
					fmt.Printf("–§–ò–û: %s | –û—Ü–µ–Ω–∫–∏: %v | –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: %.2f\n",
						s.Name, s.Grades, s.average())
				}
			}
```
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã —Å—Ç—É–¥–µ–Ω—Ç—ã ‚Äî –≤—ã–≤–æ–¥–∏–º –∏—Ö –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ, —á—Ç–æ –∏ `list`.

```go
		case "exit":
			fmt.Println("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
			os.Exit(0)
```
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –∫–æ–¥–æ–º `0` (—É—Å–ø–µ—Ö).

```go
		default:
			fmt.Println("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –î–æ—Å—Ç—É–ø–Ω—ã–µ: add, list, filter, exit")
```
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

```go
		}
	}
}
```
- –ó–∞–∫—Ä—ã–≤–∞–µ–º `switch` –∏ `for` ‚Üí –∫–æ–Ω–µ—Ü `main`.
